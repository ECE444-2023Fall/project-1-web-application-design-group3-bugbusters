version: "3.8"
services:
  flask-server:
    build:
      context: ./flask-server
      args:
        PORT: ${PORT}
    container_name: flask-server-container
    ports:
      - ${PORT}:${PORT}
    volumes:
      - ./flask-server:/app
    stdin_open: true
    tty: true
  react-app:
    build:
      context: ./frontend
    container_name: react-app-container
    ports:
      - '8081:8081'
      - '8082:8082'
      - '8083:8083'
      - '19006:19006'
    volumes: 
      - ./frontend/:/app/
      - /app/node_modules
    environment:
      - EXPO_DEVTOOLS_LISTEN_ADDRESS=0.0.0.0 
      - REACT_NATIVE_PACKAGER_HOSTNAME=127.0.0.1
    stdin_open: true
    tty: true
